FlexiMart Data Warehouse Star Schema Design

Section 1: Schema Overview
FACT TABLE: fact_sales

Grain: One row per product per order line item.
Business Process: Records historical sales transactions at the most detailed transactional level.

Measures (Numeric Facts):

quantity_sold – Number of units purchased in a particular line item.

unit_price – Product selling price at the time of transaction.

discount_amount – Monetary discount applied to the line item.

total_amount – Final transaction value (quantity × unit_price – discount_amount).

Foreign Keys:

date_key → dim_date

product_key → dim_product

customer_key → dim_customer

DIMENSION TABLE: dim_date

Purpose: Provides calendar intelligence for time-based reporting and trend analysis.
Type: Conformed dimension shared across all facts.

Attributes:

date_key (PK) – Surrogate key in format YYYYMMDD

full_date – Actual date value

day_of_week – Monday, Tuesday, etc.

month – Integer month value

month_name – January to December

quarter – Q1, Q2, Q3, Q4

year – Four-digit year

is_weekend – Boolean flag

DIMENSION TABLE: dim_product

Purpose: Stores descriptive attributes of products for category and profitability analysis.

Attributes:

product_key (PK) – Surrogate autogenerated key

product_id – Original operational system identifier

product_name – Product descriptive name

category – Product segment or family

brand – Manufacturer or brand name

launch_date – When product was introduced

is_active – Active/inactive product status

DIMENSION TABLE: dim_customer

Purpose: Holds customer profile attributes to enable demographic segmentation.

Attributes:

customer_key (PK) – Surrogate autogenerated key

customer_id – Source system identifier

first_name – Given name

last_name – Family name

gender – M/F/Other

email – Contact email

city – Residential city

registration_year – Year customer enrolled

loyalty_status – Tier classification (Silver/Gold/Platinum)

Section 2: Design Decisions (~150 words)

The chosen grain captures data at the individual order line-item level because it provides maximum analytical flexibility. Storing facts at this lowest granularity supports detailed profitability reporting, product performance comparisons, and return-rate tracking. Analysts can aggregate results to daily, monthly, customer, or product category levels without losing detail.

Surrogate keys are used instead of natural keys to ensure long-term warehouse stability. Natural keys such as customer emails or product codes may change, be reused, or contain irregular formats. Surrogate integers improve join performance and allow slow-changing dimension (SCD) strategies without breaking referential integrity.

This dimensional design supports both drill-down and roll-up capabilities. Analysts can drill from yearly revenue down to daily product trends or roll up across regions or categories. By separating facts and dimensions, reporting tools can easily slice results by any dimension (date, product, customer), enabling multi-perspective business intelligence across FlexiMart’s history.

Section 3: Sample Data Flow
Source Transaction

Order #101:
Customer = “John Doe”
Product = “Laptop”
Qty = 2
Price = 50000

Warehouse Transformation
fact_sales
{
  "date_key": 20240115,
  "product_key": 5,
  "customer_key": 12,
  "quantity_sold": 2,
  "unit_price": 50000,
  "discount_amount": 0,
  "total_amount": 100000
}

dim_date
{
  "date_key": 20240115,
  "full_date": "2024-01-15",
  "month": 1,
  "month_name": "January",
  "quarter": "Q1",
  "year": 2024,
  "is_weekend": false
}

dim_product
{
  "product_key": 5,
  "product_id": "ELEC032",
  "product_name": "Laptop",
  "category": "Electronics",
  "brand": "FlexiTech",
  "launch_date": "2023-06-01",
  "is_active": true
}

dim_customer
{
  "customer_key": 12,
  "customer_id": "C102",
  "first_name": "John",
  "last_name": "Doe",
  "email": "john.doe@email.com",
  "city": "Mumbai",
  "loyalty_status": "Gold"
}
